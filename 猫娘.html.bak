<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ‚é±¼çŒœæ•°å­—å°æ¸¸æˆ ğŸ’—</title>
<style>
    body {
        font-family: "Microsoft YaHei", sans-serif;
        background: linear-gradient(135deg, #a1e4ff, #ffccf9);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        min-height: 100vh;
        padding: 5vw;
        color: #333;
        box-sizing: border-box;
    }
    h1 {
        color: #2f80ed;
        text-shadow: 1px 1px 3px #fff;
        font-size: 6vw;
        margin-bottom: 4vw;
        text-align: center;
    }
    #log {
        white-space: pre-line;
        text-align: left;
        margin: 2vw 0;
        padding: 4vw;
        width: 90%;
        max-width: 500px;
        background: rgba(255,255,255,0.85);
        border: 2px solid #2f80ed;
        border-radius: 12px;
        min-height: 30vh;
        overflow-y: auto;
        font-size: 3.5vw;
        box-shadow: inset 0 0 10px rgba(0,0,0,0.05);
    }
    input, button {
        margin: 1vw;
        padding: 2vw;
        font-size: 4vw;
        border-radius: 6px;
        border: 1px solid #ccc;
        box-sizing: border-box;
    }
    input {
        width: 40%;
        min-width: 100px;
        text-align: center;
    }
    button {
        background-color: #2f80ed;
        color: white;
        border: none;
        cursor: pointer;
        transition: 0.3s;
    }
    button:hover {
        background-color: #1b5ac2;
        transform: scale(1.05);
    }
    .cat-talk {
        background: #fff0fa;
        border: 1px solid #ff99cc;
        border-radius: 10px;
        padding: 2vw;
        margin-top: 2vw;
        box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
        font-size: 3.5vw;
        word-break: break-word;
    }
    @media (min-width: 600px) {
        h1 { font-size: 2em; }
        #log, .cat-talk { font-size: 1em; }
        input, button { font-size: 1em; padding: 8px; }
    }
</style>
</head>
<body>

<h1>çŒœæ•°å­—å°æ¸¸æˆ</h1>
<div id="log"></div>

<div style="display:flex; justify-content:center; flex-wrap:wrap;">
    <input type="number" id="guessInput" placeholder="è¾“å…¥ä½ çš„çŒœæµ‹">
    <button onclick="guessNumber()">çŒœï¼</button>
</div>

<script>
let ans, gue, roll, game = 0;
let playing = true;

function logMessage(msg) {
    const logDiv = document.getElementById("log");
    const bubble = document.createElement('div');
    bubble.className = 'cat-talk';
    bubble.textContent = msg;
    logDiv.appendChild(bubble);
    logDiv.scrollTop = logDiv.scrollHeight;
}

function startGame() {
    ans = Math.floor(Math.random() * 100) + 1;
    gue = 0;
    roll = 0;
    playing = true;
    logMessage("çŒœå§æ‚é±¼ï¼Œ1åˆ°100çš„æ•´æ•°ï¼Œä¸€å…±æœ‰7æ¬¡æœºä¼šå“¦");
}
startGame();

function guessNumber() {
    if (!playing) return;
    const val = document.getElementById("guessInput").value;
    gue = parseInt(val);
    if (isNaN(gue)) return;

    // ğŸ¯ å½©è›‹æ£€æµ‹
    if (gue === 114514) {
        logMessage("å’¦æƒ¹ï½æ‚é±¼å¤§å“¥å“¥ä½ å¥½è‡­å•Šï½");
        document.getElementById("guessInput").value = "";
        return; // ä¸æ‰£æœºä¼š
    }

    if (gue < 1 || gue > 100) {
        roll++;
        logMessage(`è¿è§„åˆ™éƒ½è¯»ä¸æ˜ç™½çš„å¤§å“¥å“¥ï¼ŒçœŸæ˜¯æ‚é±¼å‘¢\nå·²ç»çŒœäº†${roll}æ¬¡äº†å“¦`);
    }
    if (gue < ans && gue >= 1) {
        roll++;
        logMessage(`çŒœå°äº†ï¼Œæ‚é±¼\nå·²ç»çŒœäº†${roll}æ¬¡äº†å“¦`);
    }
    if (gue > ans && gue <= 100) {
        roll++;
        logMessage(`çŒœå¤§äº†ï¼Œæ‚é±¼\nå·²ç»çŒœäº†${roll}æ¬¡äº†å“¦`);
        roll++;
        logMessage(`å“¦å“¦å“¦å“¦å“¦å“¦å“¦æ²¡æƒ³åˆ°å±…ç„¶è¢«ä½ çŒœä¸­äº†ï¼Œè€Œä¸”åªç”¨äº†${roll}æ¬¡ï¼Œç­”æ¡ˆå°±æ˜¯${ans}å“¦`);
        roll = 7;
    }

    if (roll >= 7) {
        game++;
        if (gue !== ans) {
            logMessage("è¾“æ‰äº†å‘¢ï¼Œæ‚é±¼å¤§å“¥å“¥");
        }
        playing = false;
        setTimeout(() => {
            let con = prompt(`è¿˜æƒ³å†æ¥ç©çš„è¯å°±è¾“å…¥1ï¼Œæ‰¿è®¤è‡ªå·±æ˜¯æ‚é±¼ç„¶åå°±æ­¤é€€å‡ºçš„è¯å°±è¾“å…¥0å“¦\næ‚é±¼å¤§å“¥å“¥å·²ç»ç©äº†${game}å±€äº†å‘¢`);
            if (con == "1") {
                logMessage("å™—å“ˆå“ˆï¼Œé‚£å°±ç»§ç»­è®©æˆ‘è§è¯†ä¸€ä¸‹æ‚é±¼å¤§å“¥å“¥çš„çŒœæ•°å­—èƒ½åŠ›å§");
                startGame();
            } else if (con == "0") {
                logMessage("é‚£å°±å†è§å’¯ï¼Œæ‚é±¼");
            } else {
                logMessage("å¬ä¸æ˜ç™½è¯å˜›æ‚é±¼ï¼Œä¸è·Ÿä½ ç©äº†ï¼ˆç¦»å¼€ï¼‰");
            }
        }, 200);
    }
}
</script>

</body>
</html>